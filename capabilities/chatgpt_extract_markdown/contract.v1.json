{
  "name": "chatgpt.extract_markdown",
  "description": "Extract markdown from a ChatGPT Canvas shared URL.",
  "version": "v1",
  "input_schema": {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "type": "object",
    "additionalProperties": false,
    "properties": {
      "url": {
        "type": "string",
        "description": "Canvas share URL."
      },
      "output": {
        "type": [
          "string",
          "null"
        ],
        "description": "Where to write the extracted markdown. Use 'auto' for auto-named file, a directory path, or a file path. Null means no file output.",
        "default": null
      }
    },
    "required": [
      "url"
    ]
  },
  "output_schema": {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "type": "object",
    "additionalProperties": false,
    "properties": {
      "title": {
        "type": [
          "string",
          "null"
        ],
        "description": "Extracted title from the canvas page."
      },
      "markdown": {
        "type": "string",
        "description": "Extracted markdown content."
      },
      "suggested_filename": {
        "type": "string",
        "description": "Suggested filename based on the title."
      },
      "output_path": {
        "type": [
          "string",
          "null"
        ],
        "description": "Path where markdown was written, or null if no output was requested."
      }
    },
    "required": [
      "title",
      "markdown",
      "suggested_filename",
      "output_path"
    ]
  },
  "errors": [
    {
      "code": "dependency_error",
      "description": "Missing curl binary."
    },
    {
      "code": "network_error",
      "description": "Network or HTTP failures fetching the canvas URL."
    },
    {
      "code": "parse_error",
      "description": "Canvas page does not contain extractable markdown content."
    },
    {
      "code": "validation_error",
      "description": "Input did not match schema."
    }
  ],
  "side_effects": "Performs a network fetch of the shared canvas URL using curl. Optionally writes a local .md file.",
  "version_notes": "v1 migrated from canvas-markdown Codex skill."
}
