{
  "function": {
    "description": "Build a Docker image for a specified platform and push it to GitHub Container Registry (GHCR).",
    "name": "github.push_ghcr",
    "parameters": {
      "additionalProperties": false,
      "properties": {
        "context": {
          "description": "Docker build context path (e.g. '.' or './app').",
          "type": "string"
        },
        "dockerfile": {
          "default": "Dockerfile",
          "description": "Path to the Dockerfile relative to the build context.",
          "type": "string"
        },
        "dry_run": {
          "default": false,
          "description": "If true, return the docker command that would be executed without running it.",
          "type": "boolean"
        },
        "platform": {
          "default": "linux/arm64",
          "description": "Target platform for the Docker build (e.g. 'linux/arm64', 'linux/amd64').",
          "type": "string"
        },
        "repo": {
          "description": "GitHub repository in owner/name format (e.g. 'matthewdart/myapp'). Used to form the GHCR image path ghcr.io/<repo>.",
          "type": "string"
        },
        "tags": {
          "default": [
            "latest"
          ],
          "description": "List of image tags to apply. Defaults to [\"latest\"].",
          "items": {
            "type": "string"
          },
          "type": "array"
        }
      },
      "required": [
        "repo",
        "context"
      ],
      "type": "object"
    }
  },
  "type": "function"
}
